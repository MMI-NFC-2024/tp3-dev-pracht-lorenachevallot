---
import Layout from "../layouts/Layout.astro";
import GraphicSpecies from "../components/GraphicSpecies.astro";
---

<Layout>
    <div
        class="flex flex-col items-center justify-center min-h-screen bg-gradient-to-br from-blue-50 to-purple-400 py-20 px-2"
    >
        <h1
            class="text-4xl md:text-5xl font-extrabold text-purple-700 text-center mb-12 select-none drop-shadow-md"
        >
            Menu des espèces
        </h1>
        <div class="mb-12 flex flex-col items-center gap-6">
            <label for="species" class="text-xl font-semibold text-purple-900"
                >Choisissez une espèce :</label
            >
            <select
                id="species"
                class="px-6 py-3 rounded-2xl shadow-md bg-white bg-opacity-90 text-purple-800 font-medium text-lg focus:outline-none focus:ring-4 focus:ring-fuchsia-200 transition-all duration-200 border border-purple-200"
            >
                <option value="" selected disabled hidden
                    >Choisissez une espèce</option
                >
                <option value="/species/Adelie">Manchot Adelie</option>
                <option value="/species/Gentoo">Manchot Gentoo</option>
                <option value="/species/Chinstrap">Manchot Chinstrap</option>
            </select>
        </div>
        <div
            class="w-full max-w-3xl rounded-3xl shadow-lg overflow-hidden bg-white bg-opacity-90 backdrop-blur-sm transition-all duration-300 p-6"
        >
            <div
                class="relative w-full max-w-xl mx-auto overflow-x-auto scroll-smooth"
            >
                <div
                    id="carousel-content"
                    class="flex gap-32 snap-x snap-mandatory"
                >
                    <div
                        id="adelie"
                        class="flex-shrink-0 min-w-full snap-start"
                    >
                        <GraphicSpecies species="Adelie" />
                    </div>
                    <div
                        id="gentoo"
                        class="flex-shrink-0 min-w-full snap-start"
                    >
                        <GraphicSpecies species="Gentoo" />
                    </div>
                    <div
                        id="chinstrap"
                        class="flex-shrink-0 min-w-full snap-start"
                    >
                        <GraphicSpecies species="Chinstrap" />
                    </div>
                </div>
            </div>
        </div>
    </div>
</Layout>

<script>
    const select = document.getElementById("species");
    select?.addEventListener("change", (e) => {
        const value = select instanceof HTMLSelectElement ? select.value : "";
        let id = "adelie";
        if (value.toLowerCase().includes("gentoo")) id = "gentoo";
        else if (value.toLowerCase().includes("chinstrap")) id = "chinstrap";
        location.hash = id;
    });
</script>
